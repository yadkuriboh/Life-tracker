<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Life Tracker 🚀</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
            padding-bottom: 80px;
            touch-action: manipulation;
        }

        .app-container {
            max-width: 100vw;
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
        }

        .header {
            padding: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 24px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .date-time {
            margin-top: 5px;
            font-size: 14px;
            color: #888;
        }

        .motivation-quote {
            padding: 15px 20px;
            margin: 10px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 15px;
            text-align: center;
            font-style: italic;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .main-nav {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 20px;
        }

        .nav-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .nav-card:active::before {
            transform: scale(1);
        }

        .nav-card:active {
            transform: scale(0.95);
        }

        .nav-card .icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .nav-card h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .nav-card p {
            font-size: 12px;
            color: #888;
        }

        .gym-card { border-color: #ff6b6b; }
        .study-card { border-color: #4ecdc4; }
        .guitar-card { border-color: #ffe66d; }
        .gaming-card { border-color: #a8e6cf; }

        .section {
            display: none;
            padding: 20px;
            animation: slideIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .today-schedule {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #00ff88;
            position: relative;
        }

        .schedule-item.completed {
            opacity: 0.5;
            border-left-color: #888;
        }

        .schedule-item.completed::after {
            content: '✓';
            position: absolute;
            right: 15px;
            color: #00ff88;
            font-size: 20px;
        }

        .schedule-item.current {
            background: rgba(0, 255, 136, 0.1);
            border-left-color: #00aaff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .time {
            font-weight: bold;
            color: #00ff88;
            min-width: 80px;
        }

        .activity {
            flex: 1;
            margin-left: 15px;
        }

        .checkbox {
            width: 25px;
            height: 25px;
            border: 2px solid #00ff88;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox.checked {
            background: #00ff88;
            position: relative;
        }

        .checkbox.checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #0a0a0a;
            font-weight: bold;
        }

        .workout-tracker {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .exercise-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .exercise-header h3 {
            font-size: 16px;
        }

        .exercise-header span {
            font-size: 12px;
            color: #888;
        }

        .sets-tracker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .set-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            color: white;
            font-size: 14px;
        }

        .set-input:focus {
            outline: none;
            border-color: #00ff88;
            background: rgba(255, 255, 255, 0.15);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-number {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00aaff);
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            padding: 10px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 100;
        }

        .bottom-nav-inner {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 5px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .nav-item:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item .icon {
            font-size: 24px;
        }

        .nav-item .label {
            font-size: 10px;
            color: #888;
        }

        .nav-item.active .label {
            color: #00ff88;
        }

        .floating-timer {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: linear-gradient(135deg, #00ff88, #00aaff);
            color: #0a0a0a;
            padding: 15px 25px;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
            cursor: pointer;
            z-index: 99;
            transition: all 0.3s ease;
        }

        .floating-timer:active {
            transform: scale(0.95);
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .quick-action-btn {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quick-action-btn:active {
            transform: scale(0.95);
            background: rgba(255, 255, 255, 0.1);
        }

        .assignment-list {
            margin-top: 20px;
        }

        .assignment-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #4ecdc4;
        }

        .assignment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .assignment-header h4 {
            font-size: 16px;
        }

        .due-date {
            font-size: 12px;
            color: #ff6b6b;
        }

        .assignment-progress {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .assignment-progress-fill {
            height: 100%;
            background: #4ecdc4;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .timer-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            font-size: 48px;
            font-weight: bold;
            font-family: monospace;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .timer-btn {
            padding: 10px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .timer-btn.active {
            background: #00ff88;
            color: #0a0a0a;
        }

        .notes-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
        }

        .notes-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            color: white;
            font-size: 14px;
            resize: vertical;
            min-height: 100px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 200;
            padding: 20px;
            overflow-y: auto;
        }

        .modal-content {
            background: #1a1a2e;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            margin: 50px auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #888;
        }

        .form-videos {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .video-link {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-decoration: none;
            color: white;
        }

        .weight-tracker {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }

        .weight-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 15px;
            border-radius: 10px;
        }

        @media (max-width: 380px) {
            .main-nav {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <h1>Life Tracker 🚀</h1>
            <div class="date-time" id="dateTime"></div>
        </div>

        <!-- Motivation Quote -->
        <div class="motivation-quote" id="motivationQuote">
            "Every rep, every page, every hour invested compounds. You are becoming unstoppable."
        </div>

        <!-- Main Navigation -->
        <div id="mainNav" class="section active">
            <div class="main-nav">
                <div class="nav-card gym-card" onclick="showSection('gym')">
                    <div class="icon">💪</div>
                    <h3>Gym Tracker</h3>
                    <p id="gymStatus">Today: Push Day</p>
                </div>
                
                <div class="nav-card study-card" onclick="showSection('study')">
                    <div class="icon">📚</div>
                    <h3>Study Timer</h3>
                    <p id="studyStatus">4 assignments due</p>
                </div>
                
                <div class="nav-card guitar-card" onclick="showSection('guitar')">
                    <div class="icon">🎸</div>
                    <h3>Guitar Log</h3>
                    <p id="guitarStatus">30 min practice</p>
                </div>
                
                <div class="nav-card gaming-card" onclick="showSection('gaming')">
                    <div class="icon">🎮</div>
                    <h3>Gaming Time</h3>
                    <p id="gamingStatus">1.5 hrs earned</p>
                </div>
            </div>

            <!-- Today's Schedule -->
            <div class="today-schedule">
                <h2 style="margin-bottom: 15px;">Today's Schedule</h2>
                <div id="scheduleList"></div>
            </div>

            <!-- Daily Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="tasksCompleted">0</div>
                    <div class="stat-label">Tasks Done</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="currentStreak">7</div>
                    <div class="stat-label">Day Streak</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="focusTime">0h</div>
                    <div class="stat-label">Focus Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="xpEarned">450</div>
                    <div class="stat-label">XP Today</div>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="dailyProgress" style="width: 0%">
                    0% Complete
                </div>
            </div>
        </div>

        <!-- Gym Section -->
        <div id="gymSection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ← Back
            </button>
            
            <h2 id="gymTitle">Today's Workout: Push Day 🔥</h2>
            
            <div class="workout-tracker" id="workoutTracker">
                <!-- Exercises will be loaded dynamically -->
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn" onclick="startRestTimer()">Start Rest Timer</button>
                <button class="quick-action-btn" onclick="showFormVideos()">View Form Videos</button>
                <button class="quick-action-btn" onclick="saveWorkout()">Save Workout</button>
                <button class="quick-action-btn" onclick="showWeightHistory()">Weight History</button>
            </div>

            <div class="notes-section">
                <h3>Workout Notes</h3>
                <textarea class="notes-input" id="workoutNotes" placeholder="How did today's workout feel? Any PRs?"></textarea>
            </div>
        </div>

        <!-- Study Section -->
        <div id="studySection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ← Back
            </button>
            
            <h2>Study Session 📚</h2>
            
            <!-- Pomodoro Timer -->
            <div class="timer-display" id="studyTimerDisplay">25:00</div>
            <div class="timer-controls">
                <button class="timer-btn" onclick="startPomodoro()">Start</button>
                <button class="timer-btn" onclick="pausePomodoro()">Pause</button>
                <button class="timer-btn" onclick="resetPomodoro()">Reset</button>
            </div>

            <!-- Assignments -->
            <div class="assignment-list">
                <h3>Current Assignments</h3>
                <div class="assignment-item">
                    <div class="assignment-header">
                        <h4>Database Systems Project</h4>
                        <span class="due-date">Due: 5 days</span>
                    </div>
                    <div class="assignment-progress">
                        <div class="assignment-progress-fill" style="width: 30%"></div>
                    </div>
                </div>
                <div class="assignment-item">
                    <div class="assignment-header">
                        <h4>Computer Systems Lab Report</h4>
                        <span class="due-date">Due: 7 days</span>
                    </div>
                    <div class="assignment-progress">
                        <div class="assignment-progress-fill" style="width: 10%"></div>
                    </div>
                </div>
                <div class="assignment-item">
                    <div class="assignment-header">
                        <h4>Engineering Management Essay</h4>
                        <span class="due-date">Due: 10 days</span>
                    </div>
                    <div class="assignment-progress">
                        <div class="assignment-progress-fill" style="width: 50%"></div>
                    </div>
                </div>
                <div class="assignment-item">
                    <div class="assignment-header">
                        <h4>Computing Topics Presentation</h4>
                        <span class="due-date">Due: 12 days</span>
                    </div>
                    <div class="assignment-progress">
                        <div class="assignment-progress-fill" style="width: 20%"></div>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn" onclick="startPomodoro()">25 Min Focus</button>
                <button class="quick-action-btn" onclick="startBreakTimer()">5 Min Break</button>
                <a href="https://www.youtube.com/results?search_query=study+music+concentration" target="_blank" class="quick-action-btn">Study Music</a>
                <button class="quick-action-btn" onclick="toggleFocusMode()">Focus Mode</button>
            </div>
        </div>

        <!-- Guitar Section -->
        <div id="guitarSection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ← Back
            </button>
            
            <h2>Guitar Practice 🎸</h2>
            
            <div class="today-schedule">
                <h3>Today's Practice Plan</h3>
                <div class="schedule-item">
                    <span class="time">10 min</span>
                    <span class="activity">Warm-up Scales</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">20 min</span>
                    <span class="activity">Song Practice: Current Project</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">15 min</span>
                    <span class="activity">New Techniques</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">15 min</span>
                    <span class="activity">Jam/Improvise</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
            </div>

            <!-- Practice Timer -->
            <div class="timer-display" id="guitarTimerDisplay">00:00</div>
            <div class="timer-controls">
                <button class="timer-btn" onclick="startPracticeTimer()">Start Practice</button>
                <button class="timer-btn" onclick="stopPracticeTimer()">Stop</button>
            </div>

            <div class="quick-actions">
                <a href="https://www.songsterr.com/" target="_blank" class="quick-action-btn">Guitar Tabs</a>
                <a href="https://www.youtube.com/results?search_query=guitar+backing+tracks" target="_blank" class="quick-action-btn">Backing Tracks</a>
                <button class="quick-action-btn" onclick="openMetronome()">Metronome</button>
                <button class="quick-action-btn" onclick="logPractice()">Log Session</button>
            </div>

            <div class="notes-section">
                <h3>Practice Notes</h3>
                <textarea class="notes-input" id="guitarNotes" placeholder="What did you practice today? Any breakthroughs?"></textarea>
            </div>
        </div>

        <!-- Gaming Section -->
        <div id="gamingSection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ← Back
            </button>
            
            <h2>Gaming Tracker 🎮</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="gamingTimeEarned">1.5h</div>
                    <div class="stat-label">Time Earned Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="gamingTimeUsed">0h</div>
                    <div class="stat-label">Time Used</div>
                </div>
            </div>

            <!-- Gaming Timer -->
            <div class="timer-display" id="gamingTimerDisplay">00:00</div>
            <div class="timer-controls">
                <button class="timer-btn" onclick="startGamingTimer()">Start Session</button>
                <button class="timer-btn" onclick="endGamingSession()">End Session</button>
            </div>

            <div class="today-schedule" style="margin-top: 20px;">
                <h3>Gaming Schedule</h3>
                <div class="schedule-item current">
                    <span class="time">9:00 PM</span>
                    <span class="activity">Squad Gaming Session</span>
                </div>
                <div class="schedule-item">
                    <span class="time">Friday</span>
                    <span class="activity">Gaming Marathon - No Limits!</span>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn" onclick="setGamingReminder()">Set Reminder</button>
                <button class="quick-action-btn" onclick="stretchReminder()">Stretch Alert</button>
                <a href="https://discord.com/app" target="_blank" class="quick-action-btn">Open Discord</a>
                <button class="quick-action-btn" onclick="logGamingSession()">Log Session</button>
            </div>

            <div class="notes-section">
                <h3>Gaming Notes</h3>
                <textarea class="notes-input" id="gamingNotes" placeholder="What did you play? Any epic moments?"></textarea>
            </div>
        </div>

        <!-- Floating Timer -->
        <div class="floating-timer" id="floatingTimer" style="display: none;">
            <span id="timerDisplay">00:00</span>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="bottom-nav-inner">
                <div class="nav-item active" onclick="showSection('main')">
                    <span class="icon">🏠</span>
                    <span class="label">Home</span>
                </div>
                <div class="nav-item" onclick="showSection('gym')">
                    <span class="icon">💪</span>
                    <span class="label">Gym</span>
                </div>
                <div class="nav-item" onclick="showSection('study')">
                    <span class="icon">📚</span>
                    <span class="label">Study</span>
                </div>
                <div class="nav-item" onclick="showSection('guitar')">
                    <span class="icon">🎸</span>
                    <span class="label">Guitar</span>
                </div>
                <div class="nav-item" onclick="showSection('gaming')">
                    <span class="icon">🎮</span>
                    <span class="label">Gaming</span>
                </div>
            </div>
        </div>

        <!-- Modal for Form Videos -->
        <div id="formVideosModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal('formVideosModal')">&times;</span>
                <h2>Exercise Form Videos</h2>
                <div class="form-videos">
                    <a href="https://www.youtube.com/results?search_query=bench+press+form" target="_blank" class="video-link">
                        <span>Bench Press Form</span>
                        <span>→</span>
                    </a>
                    <a href="https://www.youtube.com/results?search_query=squat+form+tutorial" target="_blank" class="video-link">
                        <span>Squat Form</span>
                        <span>→</span>
                    </a>
                    <a href="https://www.youtube.com/results?search_query=deadlift+form+tutorial" target="_blank" class="video-link">
                        <span>Deadlift Form</span>
                        <span>→</span>
                    </a>
                    <a href="https://www.youtube.com/results?search_query=shoulder+press+form" target="_blank" class="video-link">
                        <span>Shoulder Press Form</span>
                        <span>→</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Modal for Weight History -->
        <div id="weightHistoryModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal('weightHistoryModal')">&times;</span>
                <h2>Weight Progress History</h2>
                <div class="weight-tracker" id="weightHistory">
                    <!-- Weight history will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize app state
        let currentSection = 'main';
        let pomodoroInterval = null;
        let restTimerInterval = null;
        let practiceTimerInterval = null;
        let gamingTimerInterval = null;
        let pomodoroTime = 25 * 60;
        let practiceTime = 0;
        let gamingTime = 0;
        let focusMode = false;
        
        // Load saved data from localStorage
        let appData = JSON.parse(localStorage.getItem('lifeTrackerData')) || {
            workouts: {},
            assignments: {
                'Database Systems Project': 30,
                'Computer Systems Lab Report': 10,
                'Engineering Management Essay': 50,
                'Computing Topics Presentation': 20
            },
            practiceLog: [],
            gamingLog: [],
            currentStreak: 7,
            totalFocusTime: 0,
            notes: {
                workout: '',
                guitar: '',
                gaming: ''
            }
        };

        // Daily schedules
        const dailySchedules = {
            monday: [
                { time: '5:30 AM', activity: 'Wake Up & Hydrate', completed: false },
                { time: '6:00 AM', activity: 'Gym: Push Day 💪', completed: false },
                { time: '7:15 AM', activity: 'Breakfast & Recovery', completed: false },
                { time: '8:00 AM', activity: 'Deep Work Block 1 📚', completed: false },
                { time: '11:30 AM', activity: 'Lunch + Show 📺', completed: false },
                { time: '12:30 PM', activity: 'Study Block 2', completed: false },
                { time: '3:00 PM', activity: 'Engineering Management Class', completed: false },
                { time: '5:00 PM', activity: 'Dinner Break 🍽️', completed: false },
                { time: '6:00 PM', activity: 'Guitar Practice 🎸', completed: false },
                { time: '7:30 PM', activity: 'Light Study/Review', completed: false },
                { time: '9:00 PM', activity: 'Gaming with Friends 🎮', completed: false },
                { time: '10:30 PM', activity: 'Wind Down & Prep Tomorrow', completed: false },
                { time: '11:00 PM', activity: 'Sleep 😴', completed: false }
            ],
            tuesday: [
                { time: '5:30 AM', activity: 'Wake Up & Hydrate', completed: false },
                { time: '6:00 AM', activity: 'Gym: Pull Day 💪', completed: false },
                { time: '7:15 AM', activity: 'Breakfast & Prep', completed: false },
                { time: '8:30 AM', activity: 'Computing Topics Seminar', completed: false },
                { time: '11:30 AM', activity: 'Lunch + Quick Guitar 🎸', completed: false },
                { time: '12:30 PM', activity: 'Power Study Session 1 📚', completed: false },
                { time: '2:45 PM', activity: 'Power Study Session 2', completed: false },
                { time: '4:30 PM', activity: 'Assignment Work', completed: false },
                { time: '6:00 PM', activity: 'Dinner + Decompress', completed: false },
                { time: '7:00 PM', activity: 'Personal Time 📖🎮', completed: false },
                { time: '8:30 PM', activity: 'Online Gaming w/ Friends 🎮', completed: false },
                { time: '10:00 PM', activity: 'Evening Routine', completed: false },
                { time: '10:30 PM', activity: 'Sleep 😴', completed: false }
            ],
            wednesday: [
                { time: '5:30 AM', activity: 'Wake Up', completed: false },
                { time: '6:00 AM', activity: 'Gym: Legs & Core 🦵', completed: false },
                { time: '7:15 AM', activity: 'Recovery Breakfast', completed: false },
                { time: '8:00 AM', activity: 'Database Systems Study 📚', completed: false },
                { time: '11:30 AM', activity: 'Pre-Class Snack', completed: false },
                { time: '12:00 PM', activity: 'Database Systems Class', completed: false },
                { time: '2:00 PM', activity: 'Quick Break ☕', completed: false },
                { time: '2:45 PM', activity: 'Computer Systems Class', completed: false },
                { time: '5:00 PM', activity: 'Dinner + Show 📺', completed: false },
                { time: '6:00 PM', activity: 'Assignment Work', completed: false },
                { time: '8:00 PM', activity: 'Guitar Practice 🎸', completed: false },
                { time: '9:00 PM', activity: 'Reading Time 📖', completed: false },
                { time: '10:00 PM', activity: 'Prep for Thursday', completed: false },
                { time: '10:30 PM', activity: 'Sleep 😴', completed: false }
            ],
            thursday: [
                { time: '5:00 AM', activity: 'Early Wake Up!', completed: false },
                { time: '5:30 AM', activity: 'Gym: Upper Body 💪', completed: false },
                { time: '6:45 AM', activity: 'Quick Breakfast & Prep', completed: false },
                { time: '8:30 AM', activity: 'Computer Systems Workshop', completed: false },
                { time: '11:50 AM', activity: 'Lunch Break', completed: false },
                { time: '12:30 PM', activity: 'Database Systems Workshop', completed: false },
                { time: '2:45 PM', activity: 'Engineering Management Workshop', completed: false },
                { time: '5:00 PM', activity: 'Dinner + Complete Break 🍽️', completed: false },
                { time: '6:30 PM', activity: 'Light Review Only', completed: false },
                { time: '8:00 PM', activity: 'Choose: Guitar/Gaming/Show 🎸🎮📺', completed: false },
                { time: '9:30 PM', activity: 'Early Wind Down', completed: false },
                { time: '10:00 PM', activity: 'Sleep (You earned it!) 😴', completed: false }
            ],
            friday: [
                { time: '7:00 AM', activity: 'Sleep In! Wake Up', completed: false },
                { time: '7:30 AM', activity: 'Leisurely Breakfast + Show 📺', completed: false },
                { time: '8:30 AM', activity: 'Active Recovery 🏃', completed: false },
                { time: '9:30 AM', activity: 'Deep Work Power Session 📚', completed: false },
                { time: '1:00 PM', activity: 'Lunch Break', completed: false },
                { time: '2:00 PM', activity: 'Learn Something New! 🎯', completed: false },
                { time: '4:00 PM', activity: 'Assignment Catch-Up', completed: false },
                { time: '6:00 PM', activity: 'Dinner', completed: false },
                { time: '7:00 PM', activity: 'Extended Guitar Session 🎸', completed: false },
                { time: '9:00 PM', activity: 'Gaming Marathon Begins! 🎮', completed: false },
                { time: 'Late', activity: 'No limits tonight!', completed: false }
            ],
            saturday: [
                { time: '9:00 AM', activity: 'Weekend Wake Up', completed: false },
                { time: '10:00 AM', activity: 'Brunch & Gaming 🎮', completed: false },
                { time: '11:00 AM', activity: 'Study Session (3 hrs)', completed: false },
                { time: '2:00 PM', activity: 'Meal Prep Time 🍱', completed: false },
                { time: '4:00 PM', activity: 'Laundry & Life Admin', completed: false },
                { time: '6:00 PM', activity: 'Free Time', completed: false },
                { time: '8:00 PM', activity: 'Social Time / Out with Friends', completed: false },
                { time: 'Late', activity: 'Weekend Fun!', completed: false }
            ],
            sunday: [
                { time: '9:00 AM', activity: 'Relaxed Morning', completed: false },
                { time: '10:00 AM', activity: 'Optional Gym/Sports', completed: false },
                { time: '12:00 PM', activity: 'Lunch', completed: false },
                { time: '1:00 PM', activity: 'Assignment Work (2-3 hrs)', completed: false },
                { time: '4:00 PM', activity: 'Week Planning Session', completed: false },
                { time: '5:00 PM', activity: 'Guitar Practice 🎸', completed: false },
                { time: '6:00 PM', activity: 'Dinner', completed: false },
                { time: '7:00 PM', activity: 'Reading Time 📖', completed: false },
                { time: '9:00 PM', activity: 'Prep for Monday', completed: false },
                { time: '10:00 PM', activity: 'Early Sleep 😴', completed: false }
            ]
        };

        // Workout templates
        const workoutTemplates = {
            push: [
                { name: 'Bench Press', sets: 4, reps: '8-10' },
                { name: 'Shoulder Press', sets: 3, reps: '10-12' },
                { name: 'Incline Dumbbell Press', sets: 3, reps: '10-12' },
                { name: 'Lateral Raises', sets: 3, reps: '12-15' },
                { name: 'Cable Crossovers', sets: 3, reps: '12-15' },
                { name: 'Tricep Dips', sets: 3, reps: '8-12' },
                { name: 'Overhead Extension', sets: 3, reps: '12-15' }
            ],
            pull: [
                { name: 'Deadlifts', sets: 4, reps: '6-8' },
                { name: 'Lat Pulldown', sets: 3, reps: '10-12' },
                { name: 'Barbell Row', sets: 3, reps: '10-12' },
                { name: 'Cable Row', sets: 3, reps: '12-15' },
                { name: 'Face Pulls', sets: 3, reps: '15-20' },
                { name: 'Barbell Curls', sets: 3, reps: '10-12' },
                { name: 'Hammer Curls', sets: 3, reps: '12-15' }
            ],
            legs: [
                { name: 'Back Squats', sets: 4, reps: '8-10' },
                { name: 'Romanian Deadlifts', sets: 3, reps: '10-12' },
                { name: 'Leg Press', sets: 3, reps: '12-15' },
                { name: 'Walking Lunges', sets: 3, reps: '10 each' },
                { name: 'Leg Curls', sets: 3, reps: '12-15' },
                { name: 'Calf Raises', sets: 4, reps: '15-20' }
            ],
            upper: [
                { name: 'Incline Barbell Press', sets: 3, reps: '10' },
                { name: 'Bent-Over Row', sets: 3, reps: '10' },
                { name: 'Dumbbell Bench Press', sets: 3, reps: '12' },
                { name: 'Pull-ups', sets: 3, reps: '8-10' },
                { name: 'Arnold Press', sets: 3, reps: '10' },
                { name: 'Cable Row', sets: 3, reps: '12' }
            ]
        };

        // Motivational quotes
        const quotes = [
            "Every rep, every page, every hour invested compounds. You are becoming unstoppable.",
            "Balance isn't about giving things up - it's about making room for everything that matters.",
            "You're not just building muscle or getting grades. You're becoming a legend.",
            "Work hard, play hard, rest hard. This is the way.",
            "Today's discipline is tomorrow's freedom.",
            "The only bad workout is the one you didn't do.",
            "Success is the sum of small efforts repeated day in and day out.",
            "Your future self will thank you for starting today.",
            "Discipline is choosing between what you want now and what you want most.",
            "Progress, not perfection."
        ];

        // Update date and time
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateStr = now.toLocaleDateString('en-US', options);
            const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('dateTime').textContent = `${dateStr} • ${timeStr}`;
        }

        // Show section
        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            
            // Show selected section
            if (section === 'main') {
                document.getElementById('mainNav').classList.add('active');
            } else {
                document.getElementById(section + 'Section').classList.add('active');
                
                // Load section-specific content
                if (section === 'gym') {
                    loadWorkout();
                } else if (section === 'study') {
                    loadAssignments();
                } else if (section === 'guitar') {
                    loadGuitarNotes();
                } else if (section === 'gaming') {
                    updateGamingStats();
                }
            }
            
            // Update bottom nav
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            const navItems = document.querySelectorAll('.nav-item');
            if (section === 'main') {
                navItems[0].classList.add('active');
            } else if (section === 'gym') {
                navItems[1].classList.add('active');
            } else if (section === 'study') {
                navItems[2].classList.add('active');
            } else if (section === 'guitar') {
                navItems[3].classList.add('active');
            } else if (section === 'gaming') {
                navItems[4].classList.add('active');
            }
            
            currentSection = section;
        }

        // Toggle checkbox
        function toggleCheck(checkbox) {
            checkbox.classList.toggle('checked');
            updateProgress();
            updateGamingTime();
            saveData();
        }

        // Update daily progress
        function updateProgress() {
            const totalTasks = document.querySelectorAll('.checkbox').length;
            const completedTasks = document.querySelectorAll('.checkbox.checked').length;
            const percentage = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            const progressBar = document.getElementById('dailyProgress');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '% Complete';
            
            document.getElementById('tasksCompleted').textContent = completedTasks;
            
            // Update XP
            const xp = completedTasks * 50 + 200;
            document.getElementById('xpEarned').textContent = xp;
        }

        // Load today's schedule
        function loadTodaySchedule() {
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' }).toLowerCase();
            const schedule = dailySchedules[today] || dailySchedules.monday;
            const scheduleHTML = schedule.map((item, index) => {
                const timeClass = getCurrentTimeClass(item.time);
                return `
                    <div class="schedule-item ${timeClass}">
                        <span class="time">${item.time}</span>
                        <span class="activity">${item.activity}</span>
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('scheduleList').innerHTML = scheduleHTML;
            
            // Auto-check completed items
            autoCheckCompleted();
        }

        // Get current time class
        function getCurrentTimeClass(scheduleTime) {
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            
            if (scheduleTime === 'Late') return '';
            
            const scheduledTime = parseTime(scheduleTime);
            const scheduledMinutes = scheduledTime.hours * 60 + scheduledTime.minutes;
            
            if (currentMinutes >= scheduledMinutes - 30 && currentMinutes <= scheduledMinutes + 30) {
                return 'current';
            } else if (currentMinutes > scheduledMinutes + 30) {
                return 'completed';
            }
            return '';
        }

        // Parse time string
        function parseTime(timeStr) {
            const match = timeStr.match(/(\d+):(\d+)\s*(AM|PM)/i);
            if (!match) return { hours: 0, minutes: 0 };
            
            let hours = parseInt(match[1]);
            const minutes = parseInt(match[2]);
            const period = match[3].toUpperCase();
            
            if (period === 'PM' && hours !== 12) hours += 12;
            if (period === 'AM' && hours === 12) hours = 0;
            
            return { hours, minutes };
        }

        // Auto-check completed tasks
        function autoCheckCompleted() {
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            
            document.querySelectorAll('.schedule-item').forEach(item => {
                const timeElement = item.querySelector('.time').textContent;
                if (timeElement === 'Late') return;
                
                const scheduledTime = parseTime(timeElement);
                const scheduledMinutes = scheduledTime.hours * 60 + scheduledTime.minutes;
                
                if (currentMinutes > scheduledMinutes + 30) {
                    item.classList.add('completed');
                }
            });
        }

        // Load workout for the day
        function loadWorkout() {
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
            let workoutType = 'push';
            let workoutTitle = 'Push Day 🔥';
            
            if (today === 'Tuesday' || today === 'Thursday') {
                workoutType = today === 'Tuesday' ? 'pull' : 'upper';
                workoutTitle = today === 'Tuesday' ? 'Pull Day 💪' : 'Upper Body Volume 🔥';
            } else if (today === 'Wednesday') {
                workoutType = 'legs';
                workoutTitle = 'Legs & Core 🦵';
            }
            
            document.getElementById('gymTitle').textContent = `Today's Workout: ${workoutTitle}`;
            
            const exercises = workoutTemplates[workoutType];
            const workoutHTML = exercises.map((exercise, index) => `
                <div class="exercise-item">
                    <div class="exercise-header">
                        <h3>${exercise.name}</h3>
                        <span>${exercise.sets} sets × ${exercise.reps} reps</span>
                    </div>
                    <div class="sets-tracker">
                        ${Array.from({ length: exercise.sets }, (_, i) => `
                            <input type="text" class="set-input" placeholder="Set ${i + 1}" 
                                   id="${exercise.name.replace(/\s+/g, '')}_set${i + 1}">
                        `).join('')}
                    </div>
                </div>
            `).join('');
            
            document.getElementById('workoutTracker').innerHTML = workoutHTML;
            
            // Load saved workout data
            const savedWorkout = appData.workouts[today] || {};
            exercises.forEach(exercise => {
                for (let i = 1; i <= exercise.sets; i++) {
                    const inputId = `${exercise.name.replace(/\s+/g, '')}_set${i}`;
                    const input = document.getElementById(inputId);
                    if (input && savedWorkout[inputId]) {
                        input.value = savedWorkout[inputId];
                    }
                }
            });
            
            // Load workout notes
            document.getElementById('workoutNotes').value = appData.notes.workout || '';
        }

        // Save workout data
        function saveWorkout() {
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
            const workoutData = {};
            
            document.querySelectorAll('.set-input').forEach(input => {
                if (input.value) {
                    workoutData[input.id] = input.value;
                }
            });
            
            appData.workouts[today] = workoutData;
            appData.notes.workout = document.getElementById('workoutNotes').value;
            saveData();
            
            alert('Workout saved! Great job! 💪');
        }

        // Start rest timer
        function startRestTimer() {
            let restTime = 90;
            document.getElementById('floatingTimer').style.display = 'block';
            
            if (restTimerInterval) clearInterval(restTimerInterval);
            
            restTimerInterval = setInterval(() => {
                restTime--;
                const minutes = Math.floor(restTime / 60);
                const seconds = restTime % 60;
                document.getElementById('timerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (restTime <= 0) {
                    clearInterval(restTimerInterval);
                    restTimerInterval = null;
                    if ('vibrate' in navigator) {
                        navigator.vibrate([200, 100, 200]);
                    }
                    alert('Rest complete! Next set! 💪');
                    document.getElementById('floatingTimer').style.display = 'none';
                }
            }, 1000);
        }

        // Study timer functions
        function startPomodoro() {
            if (pomodoroInterval) return;
            
            pomodoroInterval = setInterval(() => {
                pomodoroTime--;
                updateStudyTimer();
                
                if (pomodoroTime <= 0) {
                    clearInterval(pomodoroInterval);
                    pomodoroInterval = null;
                    alert('Pomodoro complete! Take a 5-minute break! 🎉');
                    appData.totalFocusTime += 25;
                    updateFocusTime();
                    pomodoroTime = 25 * 60;
                    updateStudyTimer();
                }
            }, 1000);
        }

        function pausePomodoro() {
            if (pomodoroInterval) {
                clearInterval(pomodoroInterval);
                pomodoroInterval = null;
            }
        }

        function resetPomodoro() {
            pausePomodoro();
            pomodoroTime = 25 * 60;
            updateStudyTimer();
        }

        function updateStudyTimer() {
            const minutes = Math.floor(pomodoroTime / 60);
            const seconds = pomodoroTime % 60;
            document.getElementById('studyTimerDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function startBreakTimer() {
            pomodoroTime = 5 * 60;
            updateStudyTimer();
            startPomodoro();
        }

        // Guitar practice timer
        function startPracticeTimer() {
            if (practiceTimerInterval) return;
            
            practiceTimerInterval = setInterval(() => {
                practiceTime++;
                const minutes = Math.floor(practiceTime / 60);
                const seconds = practiceTime % 60;
                document.getElementById('guitarTimerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function stopPracticeTimer() {
            if (practiceTimerInterval) {
                clearInterval(practiceTimerInterval);
                practiceTimerInterval = null;
                
                // Log practice session
                const minutes = Math.floor(practiceTime / 60);
                appData.practiceLog.push({
                    date: new Date().toISOString(),
                    duration: minutes
                });
                saveData();
                
                alert(`Great practice session! ${minutes} minutes logged! 🎸`);
                practiceTime = 0;
                document.getElementById('guitarTimerDisplay').textContent = '00:00';
            }
        }

        // Gaming timer
        function startGamingTimer() {
            if (gamingTimerInterval) return;
            
            gamingTimerInterval = setInterval(() => {
                gamingTime++;
                const hours = Math.floor(gamingTime / 3600);
                const minutes = Math.floor((gamingTime % 3600) / 60);
                const seconds = gamingTime % 60;
                
                document.getElementById('gamingTimerDisplay').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Update time used
                document.getElementById('gamingTimeUsed').textContent = `${hours}h ${minutes}m`;
            }, 1000);
        }

        function endGamingSession() {
            if (gamingTimerInterval) {
                clearInterval(gamingTimerInterval);
                gamingTimerInterval = null;
                
                const hours = Math.floor(gamingTime / 3600);
                const minutes = Math.floor((gamingTime % 3600) / 60);
                
                appData.gamingLog.push({
                    date: new Date().toISOString(),
                    duration: gamingTime
                });
                saveData();
                
                alert(`Gaming session ended! ${hours}h ${minutes}m played! 🎮`);
                gamingTime = 0;
                document.getElementById('gamingTimerDisplay').textContent = '00:00:00';
            }
        }

        // Update gaming time based on completed tasks
        function updateGamingTime() {
            const completedTasks = document.querySelectorAll('.checkbox.checked').length;
            const workoutDone = Array.from(document.querySelectorAll('.schedule-item')).some(item => 
                item.querySelector('.activity').textContent.includes('Gym') && 
                item.querySelector('.checkbox.checked')
            );
            
            let gamingMinutes = 0;
            if (workoutDone) gamingMinutes += 30;
            gamingMinutes += completedTasks * 10;
            
            const hours = Math.floor(gamingMinutes / 60);
            const minutes = gamingMinutes % 60;
            
            const gamingStatus = document.getElementById('gamingStatus');
            const gamingTimeEarned = document.getElementById('gamingTimeEarned');
            
            if (gamingTimeEarned) {
                gamingTimeEarned.textContent = `${hours}h ${minutes}m`;
            }
            
            if (gamingStatus) {
                if (gamingMinutes > 0) {
                    gamingStatus.textContent = `${hours}h ${minutes}m earned!`;
                } else {
                    gamingStatus.textContent = 'Complete tasks to earn time';
                }
            }
        }

        // Update gaming stats
        function updateGamingStats() {
            updateGamingTime();
            document.getElementById('gamingNotes').value = appData.notes.gaming || '';
        }

        // Load guitar notes
        function loadGuitarNotes() {
            document.getElementById('guitarNotes').value = appData.notes.guitar || '';
        }

        // Load assignments (placeholder for now)
        function loadAssignments() {
            // Assignments are already in the HTML, but we could make them dynamic later
        }

        // Update focus time display
        function updateFocusTime() {
            const hours = Math.floor(appData.totalFocusTime / 60);
            const minutes = appData.totalFocusTime % 60;
            document.getElementById('focusTime').textContent = `${hours}h`;
        }

        // Modal functions
        function showFormVideos() {
            document.getElementById('formVideosModal').style.display = 'block';
        }

        function showWeightHistory() {
            const historyHTML = `
                <div class="weight-entry">
                    <span>Bench Press</span>
                    <span>Last: 60kg × 10</span>
                </div>
                <div class="weight-entry">
                    <span>Squat</span>
                    <span>Last: 80kg × 8</span>
                </div>
                <div class="weight-entry">
                    <span>Deadlift</span>
                    <span>Last: 100kg × 6</span>
                </div>
            `;
            document.getElementById('weightHistory').innerHTML = historyHTML;
            document.getElementById('weightHistoryModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Helper functions
        function openMetronome() {
            window.open('https://www.google.com/search?q=metronome', '_blank');
        }

        function logPractice() {
            const notes = document.getElementById('guitarNotes').value;
            appData.notes.guitar = notes;
            saveData();
            alert('Practice session logged! Keep rocking! 🎸');
        }

        function logGamingSession() {
            const notes = document.getElementById('gamingNotes').value;
            appData.notes.gaming = notes;
            saveData();
            alert('Gaming session logged! GG! 🎮');
        }

        function setGamingReminder() {
            if ('Notification' in window && Notification.permission === 'granted') {
                setTimeout(() => {
                    new Notification('Gaming Time!', {
                        body: 'Time for your scheduled gaming session!',
                        icon: '🎮'
                    });
                }, 1000 * 60 * 30); // 30 minutes
                alert('Reminder set for 30 minutes!');
            } else {
                alert('Please enable notifications for reminders!');
            }
        }

        function stretchReminder() {
            alert('Stretch reminder set! You\'ll be reminded every 30 minutes to stretch!');
            setInterval(() => {
                if ('Notification' in window && Notification.permission === 'granted') {
                    new Notification('Time to Stretch!', {
                        body: 'Take a quick break and stretch!',
                        icon: '🧘'
                    });
                }
            }, 1000 * 60 * 30);
        }

        function toggleFocusMode() {
            focusMode = !focusMode;
            if (focusMode) {
                document.body.style.filter = 'grayscale(50%)';
                alert('Focus mode enabled! Distractions reduced.');
            } else {
                document.body.style.filter = 'none';
                alert('Focus mode disabled.');
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('lifeTrackerData', JSON.stringify(appData));
        }

        // Update current activity and nav cards
        function updateCurrentActivity() {
            const now = new Date();
            const today = now.toLocaleDateString('en-US', { weekday: 'long' });
            
            // Update gym status
            const gymStatus = document.getElementById('gymStatus');
            if (today === 'Monday' || today === 'Wednesday') {
                gymStatus.textContent = 'Today: Push/Legs Day';
            } else if (today === 'Tuesday' || today === 'Thursday') {
                gymStatus.textContent = 'Today: Pull/Upper Day';
            } else if (today === 'Friday') {
                gymStatus.textContent = 'Active Recovery Day';
            } else {
                gymStatus.textContent = 'Rest Day - Optional';
            }
            
            // Update other statuses
            updateGamingTime();
            updateFocusTime();
        }

        // Set random quote
        function setRandomQuote() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('motivationQuote').textContent = randomQuote;
        }

        // Setup notifications
        function setupNotifications() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        }

        // Initialize app
        window.addEventListener('load', () => {
            updateDateTime();
            setInterval(updateDateTime, 60000);
            setRandomQuote();
            loadTodaySchedule();
            updateProgress();
            updateCurrentActivity();
            setupNotifications();
            
            // Update current activity every minute
            setInterval(() => {
                autoCheckCompleted();
                updateCurrentActivity();
            }, 60000);
            
            // Load saved streak
            document.getElementById('currentStreak').textContent = appData.currentStreak;
        });

        // Add touch feedback
        document.addEventListener('touchstart', (e) => {
            if (e.target.classList.contains('nav-card') || 
                e.target.classList.contains('quick-action-btn') ||
                e.target.classList.contains('checkbox')) {
                e.target.style.transform = 'scale(0.95)';
            }
        });

        document.addEventListener('touchend', (e) => {
            if (e.target.classList.contains('nav-card') || 
                e.target.classList.contains('quick-action-btn') ||
                e.target.classList.contains('checkbox')) {
                e.target.style.transform = 'scale(1)';
            }
        });

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }
    </script>
</body>
</html>

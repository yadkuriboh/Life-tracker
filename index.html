<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Life Tracker üöÄ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .app-container {
            max-width: 100vw;
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
        }

        .header {
            padding: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 24px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .date-time {
            margin-top: 5px;
            font-size: 14px;
            color: #888;
        }

        .motivation-quote {
            padding: 15px 20px;
            margin: 10px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 15px;
            text-align: center;
            font-style: italic;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .main-nav {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 20px;
        }

        .nav-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .nav-card:active::before {
            transform: scale(1);
        }

        .nav-card:active {
            transform: scale(0.95);
        }

        .nav-card .icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .nav-card h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .nav-card p {
            font-size: 12px;
            color: #888;
        }

        .gym-card { border-color: #ff6b6b; }
        .study-card { border-color: #4ecdc4; }
        .guitar-card { border-color: #ffe66d; }
        .gaming-card { border-color: #a8e6cf; }

        .section {
            display: none;
            padding: 20px;
            animation: slideIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .today-schedule {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #00ff88;
            position: relative;
        }

        .schedule-item.completed {
            opacity: 0.5;
            border-left-color: #888;
        }

        .schedule-item.completed::after {
            content: '‚úì';
            position: absolute;
            right: 15px;
            color: #00ff88;
            font-size: 20px;
        }

        .schedule-item.current {
            background: rgba(0, 255, 136, 0.1);
            border-left-color: #00aaff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .time {
            font-weight: bold;
            color: #00ff88;
            min-width: 80px;
        }

        .activity {
            flex: 1;
            margin-left: 15px;
        }

        .checkbox {
            width: 25px;
            height: 25px;
            border: 2px solid #00ff88;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox.checked {
            background: #00ff88;
            position: relative;
        }

        .checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #0a0a0a;
            font-weight: bold;
        }

        .workout-tracker {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .exercise-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .sets-tracker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .set-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            color: white;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-number {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00aaff);
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            padding: 10px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 100;
        }

        .bottom-nav-inner {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 5px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .nav-item:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item .icon {
            font-size: 24px;
        }

        .nav-item .label {
            font-size: 10px;
            color: #888;
        }

        .nav-item.active .label {
            color: #00ff88;
        }

        .floating-timer {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: linear-gradient(135deg, #00ff88, #00aaff);
            color: #0a0a0a;
            padding: 15px 25px;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
            cursor: pointer;
            z-index: 99;
            transition: all 0.3s ease;
        }

        .floating-timer:active {
            transform: scale(0.95);
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .quick-action-btn {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .quick-action-btn:active {
            transform: scale(0.95);
            background: rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 380px) {
            .main-nav {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <h1>Life Tracker üöÄ</h1>
            <div class="date-time" id="dateTime"></div>
        </div>

        <!-- Motivation Quote -->
        <div class="motivation-quote" id="motivationQuote">
            "Every rep, every page, every hour invested compounds. You are becoming unstoppable."
        </div>

        <!-- Main Navigation -->
        <div id="mainNav" class="section active">
            <div class="main-nav">
                <div class="nav-card gym-card" onclick="showSection('gym')">
                    <div class="icon">üí™</div>
                    <h3>Gym Tracker</h3>
                    <p>Today: Push Day</p>
                </div>
                
                <div class="nav-card study-card" onclick="showSection('study')">
                    <div class="icon">üìö</div>
                    <h3>Study Timer</h3>
                    <p>4 assignments due</p>
                </div>
                
                <div class="nav-card guitar-card" onclick="showSection('guitar')">
                    <div class="icon">üé∏</div>
                    <h3>Guitar Log</h3>
                    <p>30 min practice</p>
                </div>
                
                <div class="nav-card gaming-card" onclick="showSection('gaming')">
                    <div class="icon">üéÆ</div>
                    <h3>Gaming Time</h3>
                    <p>1.5 hrs earned</p>
                </div>
            </div>

            <!-- Today's Schedule -->
            <div class="today-schedule">
                <h2 style="margin-bottom: 15px;">Today's Schedule</h2>
                <div id="scheduleList"></div>
            </div>

            <!-- Daily Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="tasksCompleted">0</div>
                    <div class="stat-label">Tasks Done</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="currentStreak">7</div>
                    <div class="stat-label">Day Streak</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="focusTime">0h</div>
                    <div class="stat-label">Focus Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="xpEarned">450</div>
                    <div class="stat-label">XP Today</div>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="dailyProgress" style="width: 0%">
                    0% Complete
                </div>
            </div>
        </div>

        <!-- Gym Section -->
        <div id="gymSection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ‚Üê Back
            </button>
            
            <h2>Today's Workout: Push Day üî•</h2>
            
            <div class="workout-tracker">
                <div class="exercise-item">
                    <div class="exercise-header">
                        <h3>Bench Press</h3>
                        <span>4 sets √ó 8-10 reps</span>
                    </div>
                    <div class="sets-tracker">
                        <input type="text" class="set-input" placeholder="Set 1">
                        <input type="text" class="set-input" placeholder="Set 2">
                        <input type="text" class="set-input" placeholder="Set 3">
                        <input type="text" class="set-input" placeholder="Set 4">
                    </div>
                </div>
                
                <div class="exercise-item">
                    <div class="exercise-header">
                        <h3>Shoulder Press</h3>
                        <span>3 sets √ó 10-12 reps</span>
                    </div>
                    <div class="sets-tracker">
                        <input type="text" class="set-input" placeholder="Set 1">
                        <input type="text" class="set-input" placeholder="Set 2">
                        <input type="text" class="set-input" placeholder="Set 3">
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn" onclick="startTimer()">Start Rest Timer</button>
                <button class="quick-action-btn">View Form Videos</button>
                <button class="quick-action-btn">Log Workout</button>
                <button class="quick-action-btn">Track Progress</button>
            </div>
        </div>

        <!-- Study Section -->
        <div id="studySection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ‚Üê Back
            </button>
            
            <h2>Study Session üìö</h2>
            
            <div class="today-schedule">
                <h3>Today's Study Goals</h3>
                <div class="schedule-item">
                    <span class="time">2 hrs</span>
                    <span class="activity">Database Assignment</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">1.5 hrs</span>
                    <span class="activity">Computer Systems Reading</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">1 hr</span>
                    <span class="activity">Engineering Management</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn" onclick="startPomodoro()">Start Pomodoro</button>
                <button class="quick-action-btn">Focus Mode</button>
                <button class="quick-action-btn">Study Playlist</button>
                <button class="quick-action-btn">Break Timer</button>
            </div>
        </div>

        <!-- Guitar Section -->
        <div id="guitarSection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ‚Üê Back
            </button>
            
            <h2>Guitar Practice üé∏</h2>
            
            <div class="today-schedule">
                <h3>Today's Practice Plan</h3>
                <div class="schedule-item">
                    <span class="time">10 min</span>
                    <span class="activity">Warm-up Scales</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">20 min</span>
                    <span class="activity">Song Practice</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
                <div class="schedule-item">
                    <span class="time">15 min</span>
                    <span class="activity">New Techniques</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn">Metronome</button>
                <button class="quick-action-btn">Record Session</button>
                <button class="quick-action-btn">Backing Tracks</button>
                <button class="quick-action-btn">Progress Video</button>
            </div>
        </div>

        <!-- Gaming Section -->
        <div id="gamingSection" class="section">
            <button class="back-btn" onclick="showSection('main')">
                ‚Üê Back
            </button>
            
            <h2>Gaming Tracker üéÆ</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">1.5h</div>
                    <div class="stat-label">Time Earned Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">45m</div>
                    <div class="stat-label">Time Used</div>
                </div>
            </div>

            <div class="today-schedule" style="margin-top: 20px;">
                <h3>Gaming Schedule</h3>
                <div class="schedule-item current">
                    <span class="time">9:00 PM</span>
                    <span class="activity">Squad Gaming Session</span>
                </div>
                <div class="schedule-item">
                    <span class="time">Friday</span>
                    <span class="activity">Gaming Marathon!</span>
                </div>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn">Start Timer</button>
                <button class="quick-action-btn">Invite Friends</button>
                <button class="quick-action-btn">Snack Reminder</button>
                <button class="quick-action-btn">Stretch Alert</button>
            </div>
        </div>

        <!-- Floating Timer -->
        <div class="floating-timer" id="floatingTimer" style="display: none;">
            <span id="timerDisplay">25:00</span>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="bottom-nav-inner">
                <div class="nav-item active" onclick="showSection('main')">
                    <span class="icon">üè†</span>
                    <span class="label">Home</span>
                </div>
                <div class="nav-item" onclick="showSection('gym')">
                    <span class="icon">üí™</span>
                    <span class="label">Gym</span>
                </div>
                <div class="nav-item" onclick="showSection('study')">
                    <span class="icon">üìö</span>
                    <span class="label">Study</span>
                </div>
                <div class="nav-item" onclick="showSection('guitar')">
                    <span class="icon">üé∏</span>
                    <span class="label">Guitar</span>
                </div>
                <div class="nav-item" onclick="showSection('gaming')">
                    <span class="icon">üéÆ</span>
                    <span class="label">Gaming</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize app
        let currentSection = 'main';
        let timerInterval = null;
        let pomodoroTime = 25 * 60; // 25 minutes in seconds
        
        // Daily schedule based on day
        const dailySchedules = {
            monday: [
                { time: '5:30 AM', activity: 'Wake Up & Hydrate', completed: false },
                { time: '6:00 AM', activity: 'Gym: Push Day üí™', completed: false },
                { time: '7:15 AM', activity: 'Breakfast & Recovery', completed: false },
                { time: '8:00 AM', activity: 'Deep Work Block 1 üìö', completed: false },
                { time: '11:30 AM', activity: 'Lunch + Show üì∫', completed: false },
                { time: '12:30 PM', activity: 'Study Block 2', completed: false },
                { time: '3:00 PM', activity: 'Engineering Management Class', completed: false },
                { time: '5:00 PM', activity: 'Dinner Break üçΩÔ∏è', completed: false },
                { time: '6:00 PM', activity: 'Guitar Practice üé∏', completed: false },
                { time: '7:30 PM', activity: 'Light Study/Review', completed: false },
                { time: '9:00 PM', activity: 'Gaming with Friends üéÆ', completed: false },
                { time: '10:30 PM', activity: 'Wind Down & Prep Tomorrow', completed: false },
                { time: '11:00 PM', activity: 'Sleep üò¥', completed: false }
            ],
            tuesday: [
                { time: '5:30 AM', activity: 'Wake Up & Hydrate', completed: false },
                { time: '6:00 AM', activity: 'Gym: Pull Day üí™', completed: false },
                { time: '7:15 AM', activity: 'Breakfast & Prep', completed: false },
                { time: '8:30 AM', activity: 'Computing Topics Seminar', completed: false },
                { time: '11:30 AM', activity: 'Lunch + Quick Guitar üé∏', completed: false },
                { time: '12:30 PM', activity: 'Power Study Session 1 üìö', completed: false },
                { time: '2:45 PM', activity: 'Power Study Session 2', completed: false },
                { time: '4:30 PM', activity: 'Assignment Work', completed: false },
                { time: '6:00 PM', activity: 'Dinner + Decompress', completed: false },
                { time: '7:00 PM', activity: 'Personal Time üìñüéÆ', completed: false },
                { time: '8:30 PM', activity: 'Online Gaming w/ Friends üéÆ', completed: false },
                { time: '10:00 PM', activity: 'Evening Routine', completed: false },
                { time: '10:30 PM', activity: 'Sleep üò¥', completed: false }
            ],
            wednesday: [
                { time: '5:30 AM', activity: 'Wake Up', completed: false },
                { time: '6:00 AM', activity: 'Gym: Legs & Core ü¶µ', completed: false },
                { time: '7:15 AM', activity: 'Recovery Breakfast', completed: false },
                { time: '8:00 AM', activity: 'Database Systems Study üìö', completed: false },
                { time: '11:30 AM', activity: 'Pre-Class Snack', completed: false },
                { time: '12:00 PM', activity: 'Database Systems Class', completed: false },
                { time: '2:00 PM', activity: 'Quick Break ‚òï', completed: false },
                { time: '2:45 PM', activity: 'Computer Systems Class', completed: false },
                { time: '5:00 PM', activity: 'Dinner + Show üì∫', completed: false },
                { time: '6:00 PM', activity: 'Assignment Work', completed: false },
                { time: '8:00 PM', activity: 'Guitar Practice üé∏', completed: false },
                { time: '9:00 PM', activity: 'Reading Time üìñ', completed: false },
                { time: '10:00 PM', activity: 'Prep for Thursday', completed: false },
                { time: '10:30 PM', activity: 'Sleep üò¥', completed: false }
            ],
            thursday: [
                { time: '5:00 AM', activity: 'Early Wake Up!', completed: false },
                { time: '5:30 AM', activity: 'Gym: Upper Body üí™', completed: false },
                { time: '6:45 AM', activity: 'Quick Breakfast & Prep', completed: false },
                { time: '8:30 AM', activity: 'Computer Systems Workshop', completed: false },
                { time: '11:50 AM', activity: 'Lunch Break', completed: false },
                { time: '12:30 PM', activity: 'Database Systems Workshop', completed: false },
                { time: '2:45 PM', activity: 'Engineering Management Workshop', completed: false },
                { time: '5:00 PM', activity: 'Dinner + Complete Break üçΩÔ∏è', completed: false },
                { time: '6:30 PM', activity: 'Light Review Only', completed: false },
                { time: '8:00 PM', activity: 'Choose: Guitar/Gaming/Show üé∏üéÆüì∫', completed: false },
                { time: '9:30 PM', activity: 'Early Wind Down', completed: false },
                { time: '10:00 PM', activity: 'Sleep (You earned it!) üò¥', completed: false }
            ],
            friday: [
                { time: '7:00 AM', activity: 'Sleep In! Wake Up', completed: false },
                { time: '7:30 AM', activity: 'Leisurely Breakfast + Show üì∫', completed: false },
                { time: '8:30 AM', activity: 'Active Recovery üèÉ', completed: false },
                { time: '9:30 AM', activity: 'Deep Work Power Session üìö', completed: false },
                { time: '1:00 PM', activity: 'Lunch Break', completed: false },
                { time: '2:00 PM', activity: 'Learn Something New! üéØ', completed: false },
                { time: '4:00 PM', activity: 'Assignment Catch-Up', completed: false },
                { time: '6:00 PM', activity: 'Dinner', completed: false },
                { time: '7:00 PM', activity: 'Extended Guitar Session üé∏', completed: false },
                { time: '9:00 PM', activity: 'Gaming Marathon Begins! üéÆ', completed: false },
                { time: 'Late', activity: 'No limits tonight!', completed: false }
            ],
            saturday: [
                { time: '9:00 AM', activity: 'Weekend Wake Up', completed: false },
                { time: '10:00 AM', activity: 'Brunch & Gaming üéÆ', completed: false },
                { time: '11:00 AM', activity: 'Study Session (3 hrs)', completed: false },
                { time: '2:00 PM', activity: 'Meal Prep Time üç±', completed: false },
                { time: '4:00 PM', activity: 'Laundry & Life Admin', completed: false },
                { time: '6:00 PM', activity: 'Free Time', completed: false },
                { time: '8:00 PM', activity: 'Social Time / Out with Friends', completed: false },
                { time: 'Late', activity: 'Weekend Fun!', completed: false }
            ],
            sunday: [
                { time: '9:00 AM', activity: 'Relaxed Morning', completed: false },
                { time: '10:00 AM', activity: 'Optional Gym/Sports', completed: false },
                { time: '12:00 PM', activity: 'Lunch', completed: false },
                { time: '1:00 PM', activity: 'Assignment Work (2-3 hrs)', completed: false },
                { time: '4:00 PM', activity: 'Week Planning Session', completed: false },
                { time: '5:00 PM', activity: 'Guitar Practice üé∏', completed: false },
                { time: '6:00 PM', activity: 'Dinner', completed: false },
                { time: '7:00 PM', activity: 'Reading Time üìñ', completed: false },
                { time: '9:00 PM', activity: 'Prep for Monday', completed: false },
                { time: '10:00 PM', activity: 'Early Sleep üò¥', completed: false }
            ]
        };

        // Motivational quotes
        const quotes = [
            "Every rep, every page, every hour invested compounds. You are becoming unstoppable.",
            "Balance isn't about giving things up - it's about making room for everything that matters.",
            "You're not just building muscle or getting grades. You're becoming a legend.",
            "Work hard, play hard, rest hard. This is the way.",
            "Today's discipline is tomorrow's freedom."
        ];

        // Update date and time
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateStr = now.toLocaleDateString('en-US', options);
            const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('dateTime').textContent = `${dateStr} ‚Ä¢ ${timeStr}`;
        }

        // Show section
        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            
            // Show selected section
            if (section === 'main') {
                document.getElementById('mainNav').classList.add('active');
            } else {
                document.getElementById(section + 'Section').classList.add('active');
            }
            
            // Update bottom nav
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            if (section === 'main') {
                document.querySelector('.nav-item').classList.add('active');
            }
            
            currentSection = section;
        }

        // Toggle checkbox
        function toggleCheck(checkbox) {
            checkbox.classList.toggle('checked');
            updateProgress();
        }

        // Update daily progress
        function updateProgress() {
            const totalTasks = document.querySelectorAll('.checkbox').length;
            const completedTasks = document.querySelectorAll('.checkbox.checked').length;
            const percentage = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            const progressBar = document.getElementById('dailyProgress');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '% Complete';
            
            document.getElementById('tasksCompleted').textContent = completedTasks;
            
            // Update XP
            const xp = completedTasks * 50 + 200; // Base XP + task XP
            document.getElementById('xpEarned').textContent = xp;
        }

        // Load today's schedule
        function loadTodaySchedule() {
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' }).toLowerCase();
            const schedule = dailySchedules[today] || dailySchedules.monday;
            const scheduleHTML = schedule.map((item, index) => `
                <div class="schedule-item ${getCurrentTimeClass(item.time)}">
                    <span class="time">${item.time}</span>
                    <span class="activity">${item.activity}</span>
                    <div class="checkbox" onclick="toggleCheck(this)"></div>
                </div>
            `).join('');
            
            document.getElementById('scheduleList').innerHTML = scheduleHTML;
        }

        // Get current time class
        function getCurrentTimeClass(scheduleTime) {
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            
            // Handle special cases
            if (scheduleTime === 'Late') return '';
            
            const scheduledTime = parseTime(scheduleTime);
            const scheduledMinutes = scheduledTime.hours * 60 + scheduledTime.minutes;
            
            // If current time is within 30 minutes before or 30 minutes after scheduled time
            if (currentMinutes >= scheduledMinutes - 30 && currentMinutes <= scheduledMinutes + 30) {
                return 'current';
            } else if (currentMinutes > scheduledMinutes + 30) {
                return 'completed';
            }
            return '';
        }

        // Parse time string
        function parseTime(timeStr) {
            const match = timeStr.match(/(\d+):(\d+)\s*(AM|PM)/i);
            if (!match) return { hours: 0, minutes: 0 };
            
            let hours = parseInt(match[1]);
            const minutes = parseInt(match[2]);
            const period = match[3].toUpperCase();
            
            if (period === 'PM' && hours !== 12) hours += 12;
            if (period === 'AM' && hours === 12) hours = 0;
            
            return { hours, minutes };
        }

        // Auto-check completed tasks based on time
        function autoCheckCompleted() {
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            
            document.querySelectorAll('.schedule-item').forEach((item, index) => {
                const timeElement = item.querySelector('.time').textContent;
                if (timeElement === 'Late') return;
                
                const scheduledTime = parseTime(timeElement);
                const scheduledMinutes = scheduledTime.hours * 60 + scheduledTime.minutes;
                
                // Auto-check tasks that are more than 30 minutes past
                if (currentMinutes > scheduledMinutes + 30) {
                    const checkbox = item.querySelector('.checkbox');
                    if (checkbox && !checkbox.classList.contains('checked')) {
                        // Don't auto-check, but mark as missed
                        item.classList.add('completed');
                    }
                }
            });
        }

        // Update current activity display
        function updateCurrentActivity() {
            const now = new Date();
            const today = now.toLocaleDateString('en-US', { weekday: 'long' }).toLowerCase();
            const schedule = dailySchedules[today] || dailySchedules.monday;
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            
            let currentActivity = null;
            let nextActivity = null;
            
            for (let i = 0; i < schedule.length; i++) {
                if (schedule[i].time === 'Late') continue;
                
                const scheduledTime = parseTime(schedule[i].time);
                const scheduledMinutes = scheduledTime.hours * 60 + scheduledTime.minutes;
                
                if (currentMinutes >= scheduledMinutes - 30 && currentMinutes <= scheduledMinutes + 30) {
                    currentActivity = schedule[i];
                } else if (currentMinutes < scheduledMinutes && !nextActivity) {
                    nextActivity = schedule[i];
                }
            }
            
            // Update the UI with current/next activity
            updateNavCards(currentActivity, nextActivity);
        }

        // Update navigation cards with current info
        function updateNavCards(current, next) {
            const now = new Date();
            const dayName = now.toLocaleDateString('en-US', { weekday: 'long' });
            
            // Update gym card
            const gymCard = document.querySelector('.gym-card p');
            if (dayName === 'Monday' || dayName === 'Wednesday') {
                gymCard.textContent = 'Today: Push/Legs Day';
            } else if (dayName === 'Tuesday' || dayName === 'Thursday') {
                gymCard.textContent = 'Today: Pull/Upper Day';
            } else if (dayName === 'Friday') {
                gymCard.textContent = 'Active Recovery Day';
            } else {
                gymCard.textContent = 'Rest Day - Optional Gym';
            }
            
            // Update study card
            const studyCard = document.querySelector('.study-card p');
            if (current && current.activity.includes('Study')) {
                studyCard.textContent = 'üî¥ Study Time NOW!';
                document.querySelector('.study-card').style.borderColor = '#ff0000';
            } else if (next && next.activity.includes('Study')) {
                studyCard.textContent = `Next: ${next.time}`;
            }
            
            // Update gaming card based on earned time
            updateGamingTime();
        }

        // Calculate gaming time earned
        function updateGamingTime() {
            const completedTasks = document.querySelectorAll('.checkbox.checked').length;
            const workoutDone = Array.from(document.querySelectorAll('.schedule-item')).some(item => 
                item.querySelector('.activity').textContent.includes('Gym') && 
                item.querySelector('.checkbox.checked')
            );
            
            let gamingTime = 0;
            if (workoutDone) gamingTime += 30; // 30 min for workout
            gamingTime += completedTasks * 10; // 10 min per task
            
            const gamingCard = document.querySelector('.gaming-card p');
            if (gamingTime > 0) {
                gamingCard.textContent = `${gamingTime} min earned today!`;
            } else {
                gamingCard.textContent = 'Complete tasks to earn time';
            }
        }

        // Smart notifications
        function setupNotifications() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
            
            // Check every minute for upcoming activities
            setInterval(() => {
                checkUpcomingActivities();
            }, 60000);
        }

        // Check for activities starting soon
        function checkUpcomingActivities() {
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const today = now.toLocaleDateString('en-US', { weekday: 'long' }).toLowerCase();
            const schedule = dailySchedules[today] || dailySchedules.monday;
            
            schedule.forEach(item => {
                if (item.time === 'Late') return;
                
                const scheduledTime = parseTime(item.time);
                const scheduledMinutes = scheduledTime.hours * 60 + scheduledTime.minutes;
                
                // Notify 10 minutes before activity
                if (scheduledMinutes - currentMinutes === 10) {
                    sendNotification(`Starting in 10 minutes: ${item.activity}`, {
                        body: `Get ready for ${item.activity}`,
                        icon: 'üí™',
                        vibrate: [200, 100, 200]
                    });
                }
            });
        }

        // Send notification
        function sendNotification(title, options) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(title, options);
            }
        }

        // Start Pomodoro timer
        function startPomodoro() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                document.getElementById('floatingTimer').style.display = 'none';
                return;
            }
            
            document.getElementById('floatingTimer').style.display = 'block';
            pomodoroTime = 25 * 60;
            
            timerInterval = setInterval(() => {
                pomodoroTime--;
                const minutes = Math.floor(pomodoroTime / 60);
                const seconds = pomodoroTime % 60;
                document.getElementById('timerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (pomodoroTime <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    alert('Pomodoro session complete! Take a break!');
                    document.getElementById('floatingTimer').style.display = 'none';
                    
                    // Update focus time
                    const currentFocus = parseInt(document.getElementById('focusTime').textContent) || 0;
                    document.getElementById('focusTime').textContent = (currentFocus + 0.5) + 'h';
                }
            }, 1000);
        }

        // Start general timer
        function startTimer() {
            // Simple 90 second rest timer for gym
            let restTime = 90;
            document.getElementById('floatingTimer').style.display = 'block';
            
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                restTime--;
                const minutes = Math.floor(restTime / 60);
                const seconds = restTime % 60;
                document.getElementById('timerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (restTime <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    // Vibrate if supported
                    if ('vibrate' in navigator) {
                        navigator.vibrate([200, 100, 200]);
                    }
                    alert('Rest complete! Next set!');
                    document.getElementById('floatingTimer').style.display = 'none';
                }
            }, 1000);
        }

        // Random quote on load
        function setRandomQuote() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('motivationQuote').textContent = randomQuote;
        }

        // Save data to localStorage
        function saveData() {
            const data = {
                completedTasks: document.querySelectorAll('.checkbox.checked').length,
                currentStreak: document.getElementById('currentStreak').textContent,
                lastSaved: new Date().toISOString()
            };
            localStorage.setItem('lifeTrackerData', JSON.stringify(data));
        }

        // Load data from localStorage
        function loadData() {
            const saved = localStorage.getItem('lifeTrackerData');
            if (saved) {
                const data = JSON.parse(saved);
                // Check if it's a new day
                const lastSaved = new Date(data.lastSaved);
                const today = new Date();
                if (lastSaved.toDateString() !== today.toDateString()) {
                    // New day - increment streak if tasks were completed
                    if (data.completedTasks > 0) {
                        const streak = parseInt(data.currentStreak) + 1;
                        document.getElementById('currentStreak').textContent = streak;
                    }
                } else {
                    document.getElementById('currentStreak').textContent = data.currentStreak;
                }
            }
        }

        // Initialize app
        window.addEventListener('load', () => {
            updateDateTime();
            setInterval(updateDateTime, 60000); // Update every minute
            setRandomQuote();
            loadTodaySchedule();
            loadData();
            updateProgress();
            
            // Auto-update features
            autoCheckCompleted();
            updateCurrentActivity();
            setupNotifications();
            
            // Update current activity every minute
            setInterval(() => {
                autoCheckCompleted();
                updateCurrentActivity();
                updateProgress();
            }, 60000);
            
            // Save data when page unloads
            window.addEventListener('beforeunload', saveData);
        });

        // Add touch feedback
        document.addEventListener('touchstart', (e) => {
            if (e.target.classList.contains('nav-card') || 
                e.target.classList.contains('quick-action-btn') ||
                e.target.classList.contains('checkbox')) {
                e.target.style.transform = 'scale(0.95)';
            }
        });

        document.addEventListener('touchend', (e) => {
            if (e.target.classList.contains('nav-card') || 
                e.target.classList.contains('quick-action-btn') ||
                e.target.classList.contains('checkbox')) {
                e.target.style.transform = 'scale(1)';
            }
        });

        // PWA Installation
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });

        // Service Worker for offline functionality
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').then(registration => {
                console.log('ServiceWorker registered');
            }).catch(err => {
                console.log('ServiceWorker registration failed: ', err);
            });
        }
    </script>
</body>
</html>
